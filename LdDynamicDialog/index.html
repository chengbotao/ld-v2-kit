<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>useDialog 函数式调用文档 | LDV2 Kit</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" type="image/png" href="/ld-v2-kit/favicon/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/ld-v2-kit/favicon/favicon.svg">
    <link rel="shortcut icon" href="/ld-v2-kit/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="/ld-v2-kit/favicon/apple-touch-icon.png" sizes="180x180">
    <link rel="manifest" href="/ld-v2-kit/favicon/site.webmanifest">
    <link rel="stylesheet" href="/ld-v2-kit/fontawesome/css/fontawesome.css">
    <link rel="stylesheet" href="/ld-v2-kit/fontawesome/css/brands.css">
    <link rel="stylesheet" href="/ld-v2-kit/fontawesome/css/solid.css">
    <meta name="description" content="基于 Vue 2.6.14 + ElementUI 打造的轻量级业务组件库与工具库，为前端开发提供开箱即用的一站式解决方案">
    <meta property="og:type" content="website">
    <meta property="og:title" content="LDV2 Kit">
    <meta property="og:description" content="基于 Vue 2.6.14 + ElementUI 打造的轻量级业务组件库与工具库，为前端开发提供开箱即用的一站式解决方案">
    <meta property="og:url" content="https://chengbotao.github.io/ld-v2-kit">
    
    <link rel="preload" href="/ld-v2-kit/assets/css/0.styles.4b61d3dd.css" as="style"><link rel="preload" href="/ld-v2-kit/assets/js/app.a42031f1.js" as="script"><link rel="preload" href="/ld-v2-kit/assets/js/2.1df3c5ad.js" as="script"><link rel="preload" href="/ld-v2-kit/assets/js/1.bcc547e7.js" as="script"><link rel="preload" href="/ld-v2-kit/assets/js/24.b50bc5a8.js" as="script"><link rel="preload" href="/ld-v2-kit/assets/js/4.77e47e98.js" as="script"><link rel="prefetch" href="/ld-v2-kit/assets/js/11.0ecf00f6.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/12.ba53d805.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/13.62aa890d.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/14.161c1e1b.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/15.98cd8916.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/16.4030f342.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/17.9efb9bf4.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/18.d7fa9faa.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/19.68be9765.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/20.557f1287.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/21.27cdf1f3.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/22.8caac4fa.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/23.4c578698.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/25.31e34950.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/3.aef1552d.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/5.5fab2688.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/6.89b40a38.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/7.3e4f410d.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/8.a3e1dccc.js"><link rel="prefetch" href="/ld-v2-kit/assets/js/vendors~docsearch.6e72a155.js">
    <link rel="stylesheet" href="/ld-v2-kit/assets/css/0.styles.4b61d3dd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ld-v2-kit/" class="home-link router-link-active"><img src="/ld-v2-kit/logo.png" alt="LDV2 Kit" class="logo"> <span class="site-name can-hide">LDV2 Kit</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>组件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/ld-v2-kit/LdTable/" class="sidebar-link">LdTable 表格</a></li><li><a href="/ld-v2-kit/LdDynamicDialog/" aria-current="page" class="active sidebar-link">useDialog 弹窗</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#功能特性" class="sidebar-link">功能特性</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#表单对话框" class="sidebar-link">表单对话框</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#使用-h-函数" class="sidebar-link">使用 H 函数</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#异步加载组件" class="sidebar-link">异步加载组件</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#标题插槽示例" class="sidebar-link">标题插槽示例</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#关闭对话框" class="sidebar-link">关闭对话框</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#注意事项" class="sidebar-link">注意事项</a></li><li class="sidebar-sub-header"><a href="/ld-v2-kit/LdDynamicDialog/#常见问题" class="sidebar-link">常见问题</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="usedialog-函数式调用文档"><a href="#usedialog-函数式调用文档" class="header-anchor">#</a> useDialog 函数式调用文档</h1> <p><code>useDialog</code> 是一个函数式调用的对话框工具，基于 Element UI 的 <code>el-dialog</code> 组件封装，提供了更灵活、更简洁的对话框创建方式。</p> <h2 id="功能特性"><a href="#功能特性" class="header-anchor">#</a> 功能特性</h2> <ul><li>✅ 函数式调用，无需在模板中声明组件</li> <li>✅ 支持自定义组件内容</li> <li>✅ 支持传递组件属性</li> <li>✅ 支持自定义对话框配置</li> <li>✅ 支持关闭回调</li> <li>✅ 支持拖拽功能</li></ul> <h2 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h2> <div class="demo-container" data-v-a7c7e090><div data-v-a7c7e090></div> <section class="example" data-v-a7c7e090><div class="example-showcase" data-v-a7c7e090><!----></div> <div class="example-toolbar" data-v-a7c7e090><i class="fa-solid fa-copy example-toolbar__item" data-v-a7c7e090></i> <i class="fa-solid fa-code example-toolbar__item" data-v-a7c7e090></i></div> <div class="example-source" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><!--beforebegin--><div class="language-vue extra-class"><!--afterbegin--><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../index'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">openBasicDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 定义简单的组件，使用 render 函数</span>
      <span class="token keyword">const</span> BasicComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">'20px'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'h3'</span><span class="token punctuation">,</span> <span class="token string">'基本对话框示例'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token string">'这是一个简单的对话框内容'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">marginTop</span><span class="token operator">:</span> <span class="token string">'20px'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'flex'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">justifyContent</span><span class="token operator">:</span> <span class="token string">'flex-end'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">gap</span><span class="token operator">:</span> <span class="token string">'10px'</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'el-button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'primary'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'confirm'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'确定'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'el-button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'cancel'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'取消'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 打开对话框</span>
      <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">componentInstance</span><span class="token operator">:</span> BasicComponent<span class="token punctuation">,</span>
        <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'基本对话框'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'400px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'20vh'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> componentRef<span class="token punctuation">,</span> close</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'对话框关闭，类型:'</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openBasicDialog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>打开基本对话框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<!--beforeend--></div><!--afterend--></div> <div role="button" tabindex="0" class="example-float-control" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><i class="fa-solid fa-arrow-up" data-v-a7c7e090></i> <span data-v-a7c7e090>隐藏示例源代码</span></div></section></div><h2 id="表单对话框"><a href="#表单对话框" class="header-anchor">#</a> 表单对话框</h2> <div class="demo-container" data-v-a7c7e090><div data-v-a7c7e090></div> <section class="example" data-v-a7c7e090><div class="example-showcase" data-v-a7c7e090><!----></div> <div class="example-toolbar" data-v-a7c7e090><i class="fa-solid fa-copy example-toolbar__item" data-v-a7c7e090></i> <i class="fa-solid fa-code example-toolbar__item" data-v-a7c7e090></i></div> <div class="example-source" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><!--beforebegin--><div class="language-vue extra-class"><!--afterbegin--><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../index"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">openFormDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 定义表单组件，使用 render 函数</span>
      <span class="token keyword">const</span> FormComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"initialForm"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">form</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initialForm <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">""</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"请输入姓名"</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"请输入年龄"</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"请输入邮箱"</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">"blur"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"请输入正确的邮箱格式"</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">"blur"</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>formRef<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">valid</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token string">"submit"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">handleCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"h3"</span><span class="token punctuation">,</span> <span class="token string">"表单对话框示例"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-form"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">ref</span><span class="token operator">:</span> <span class="token string">"formRef"</span><span class="token punctuation">,</span>
              <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">,</span>
                <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>rules<span class="token punctuation">,</span>
                <span class="token literal-property property">labelWidth</span><span class="token operator">:</span> <span class="token string">"80px"</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-form-item"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"姓名"</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
                <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-input"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token function-variable function">input</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                      <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>name <span class="token operator">=</span> value<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-form-item"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"年龄"</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"age"</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
                <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-input-number"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>age<span class="token punctuation">,</span>
                    <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                      <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>age <span class="token operator">=</span> value<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-form-item"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"邮箱"</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
                <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-input"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"email"</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token function-variable function">input</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                      <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">.</span>email <span class="token operator">=</span> value<span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-form-item"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
                <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-button"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"primary"</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleSubmit<span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"提交"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"el-button"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleCancel<span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">"取消"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 打开对话框</span>
      <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">componentInstance</span><span class="token operator">:</span> FormComponent<span class="token punctuation">,</span>
        <span class="token literal-property property">componentProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">initialForm</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"张三"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
            <span class="token literal-property property">email</span><span class="token operator">:</span> <span class="token string">"zhangsan@example.com"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"表单对话框"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"500px"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"10vh"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> componentRef<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">"submit"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"表单提交:"</span><span class="token punctuation">,</span> componentRef<span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 可以在这里处理表单数据</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>
              <span class="token string">"表单提交成功！\n"</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>componentRef<span class="token punctuation">.</span>form<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openFormDialog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>打开表单对话框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<!--beforeend--></div><!--afterend--></div> <div role="button" tabindex="0" class="example-float-control" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><i class="fa-solid fa-arrow-up" data-v-a7c7e090></i> <span data-v-a7c7e090>隐藏示例源代码</span></div></section></div><h2 id="使用-h-函数"><a href="#使用-h-函数" class="header-anchor">#</a> 使用 H 函数</h2> <div class="demo-container" data-v-a7c7e090><div data-v-a7c7e090></div> <section class="example" data-v-a7c7e090><div class="example-showcase" data-v-a7c7e090><!----></div> <div class="example-toolbar" data-v-a7c7e090><i class="fa-solid fa-copy example-toolbar__item" data-v-a7c7e090></i> <i class="fa-solid fa-code example-toolbar__item" data-v-a7c7e090></i></div> <div class="example-source" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><!--beforebegin--><div class="language-vue extra-class"><!--afterbegin--><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../index"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">openHFunctionDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 使用 h 函数创建组件</span>
      <span class="token keyword">const</span> HFunctionComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span>
            <span class="token string">"div"</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"h3"</span><span class="token punctuation">,</span> <span class="token string">"H 函数对话框示例"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">,</span> <span class="token string">"这是使用 Vue h 函数创建的对话框内容"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span>
                <span class="token string">"div"</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">marginTop</span><span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">justifyContent</span><span class="token operator">:</span> <span class="token string">"flex-end"</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">gap</span><span class="token operator">:</span> <span class="token string">"10px"</span><span class="token punctuation">,</span>
                  <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">[</span>
                  <span class="token function">h</span><span class="token punctuation">(</span>
                    <span class="token string">"el-button"</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"primary"</span><span class="token punctuation">,</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                      <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token string">"confirm"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">"确定"</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token function">h</span><span class="token punctuation">(</span>
                    <span class="token string">"el-button"</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"close"</span><span class="token punctuation">,</span> <span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">"取消"</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 打开对话框</span>
      <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">componentInstance</span><span class="token operator">:</span> HFunctionComponent<span class="token punctuation">,</span>
        <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"H 函数对话框"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"400px"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"20vh"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> componentRef<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"对话框关闭，类型:"</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openHFunctionDialog<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span>打开 H 函数对话框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span>
  <span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<!--beforeend--></div><!--afterend--></div> <div role="button" tabindex="0" class="example-float-control" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><i class="fa-solid fa-arrow-up" data-v-a7c7e090></i> <span data-v-a7c7e090>隐藏示例源代码</span></div></section></div><h2 id="异步加载组件"><a href="#异步加载组件" class="header-anchor">#</a> 异步加载组件</h2> <div class="demo-container" data-v-a7c7e090><div data-v-a7c7e090></div> <section class="example" data-v-a7c7e090><div class="example-showcase" data-v-a7c7e090><!----></div> <div class="example-toolbar" data-v-a7c7e090><i class="fa-solid fa-copy example-toolbar__item" data-v-a7c7e090></i> <i class="fa-solid fa-code example-toolbar__item" data-v-a7c7e090></i></div> <div class="example-source" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><!--beforebegin--><div class="language-vue extra-class"><!--afterbegin--><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../index"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">async</span> <span class="token function">openAsyncDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">componentInstance</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./AsyncComponent.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"异步加载对话框"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"400px"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">"20vh"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> componentRef<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"对话框关闭，类型:"</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openAsyncDialog<span class="token punctuation">"</span></span>
    <span class="token punctuation">></span></span>打开异步加载对话框<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span>
  <span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<!--beforeend--></div><!--afterend--></div> <div role="button" tabindex="0" class="example-float-control" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><i class="fa-solid fa-arrow-up" data-v-a7c7e090></i> <span data-v-a7c7e090>隐藏示例源代码</span></div></section></div><h2 id="标题插槽示例"><a href="#标题插槽示例" class="header-anchor">#</a> 标题插槽示例</h2> <div class="demo-container" data-v-a7c7e090><div data-v-a7c7e090></div> <section class="example" data-v-a7c7e090><div class="example-showcase" data-v-a7c7e090><!----></div> <div class="example-toolbar" data-v-a7c7e090><i class="fa-solid fa-copy example-toolbar__item" data-v-a7c7e090></i> <i class="fa-solid fa-code example-toolbar__item" data-v-a7c7e090></i></div> <div class="example-source" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><!--beforebegin--><div class="language-vue extra-class"><!--afterbegin--><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../index'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">pageTitle</span><span class="token operator">:</span> <span class="token string">'当前页面标题'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">openTitleSlotDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 定义内容组件</span>
      <span class="token keyword">const</span> ContentComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'pageTitle'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token string">'20px'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'h3'</span><span class="token punctuation">,</span> <span class="token string">'标题插槽示例'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">当前页面标题: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>pageTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token string">'这是一个使用组件加载方式的标题插槽示例，在标题后面添加了状态按钮。'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'el-button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">marginRight</span><span class="token operator">:</span> <span class="token string">'10px'</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'cancel'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'取消'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 定义标题插槽组件</span>
      <span class="token keyword">const</span> TitleSlotComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'componentProps'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">handleStatus1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'点击了状态按钮 1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 这里可以添加状态按钮 1 的逻辑</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">handleStatus2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'点击了状态按钮 2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 这里可以添加状态按钮 2 的逻辑</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> pageTitle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>componentProps<span class="token operator">?.</span>pageTitle <span class="token operator">||</span> <span class="token string">'默认标题'</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'flex'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">alignItems</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">自定义标题 - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pageTitle<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'flex'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">gap</span><span class="token operator">:</span> <span class="token string">'8px'</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'el-button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'small'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleStatus1<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'状态 1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">'el-button'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'small'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">click</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handleStatus2<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'状态 2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 打开对话框</span>
      <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">componentInstance</span><span class="token operator">:</span> ContentComponent<span class="token punctuation">,</span>
        <span class="token literal-property property">componentProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">pageTitle</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>pageTitle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">titleSlot</span><span class="token operator">:</span> TitleSlotComponent<span class="token punctuation">,</span>
        <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'500px'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">'20vh'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> componentRef<span class="token punctuation">,</span> close</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'对话框关闭，类型:'</span><span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openTitleSlotDialog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>打开标题插槽示例<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
</code></pre>
<!--beforeend--></div><!--afterend--></div> <div role="button" tabindex="0" class="example-float-control" style="display:none;" data-v-a7c7e090 data-v-a7c7e090><i class="fa-solid fa-arrow-up" data-v-a7c7e090></i> <span data-v-a7c7e090>隐藏示例源代码</span></div></section></div><h3 id="usedialog-options"><a href="#usedialog-options" class="header-anchor">#</a> useDialog(options)</h3> <h4 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h4> <table><thead><tr><th>参数</th> <th>说明</th> <th>类型</th> <th>默认值</th> <th>可选值</th></tr></thead> <tbody><tr><td><code>componentInstance</code></td> <td>要在对话框中显示的组件实例</td> <td>Object/Function</td> <td>-</td> <td><strong>必需</strong></td></tr> <tr><td><code>componentProps</code></td> <td>传递给组件的属性</td> <td>Object</td> <td>{}</td> <td>-</td></tr> <tr><td><code>dialogProps</code></td> <td>传递给 el-dialog 的属性</td> <td>Object</td> <td>见下文</td> <td>-</td></tr> <tr><td><code>titleSlot</code></td> <td>自定义标题插槽，支持函数或组件对象</td> <td>Function/Object</td> <td>null</td> <td>-</td></tr> <tr><td><code>target</code></td> <td>对话框挂载的目标元素</td> <td>HTMLElement</td> <td>document.body</td> <td>-</td></tr> <tr><td><code>close</code></td> <td>关闭回调函数</td> <td>Function</td> <td>-</td> <td>-</td></tr></tbody></table> <h4 id="dialogprops-默认值"><a href="#dialogprops-默认值" class="header-anchor">#</a> dialogProps 默认值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">modal</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">closeOnClickModal</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">closeOnPressEscape</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="close-回调函数参数"><a href="#close-回调函数参数" class="header-anchor">#</a> close 回调函数参数</h4> <table><thead><tr><th>参数</th> <th>说明</th> <th>类型</th></tr></thead> <tbody><tr><td><code>type</code></td> <td>关闭类型，<code>_close</code> 表示点击 X 或遮罩层关闭</td> <td>String</td></tr> <tr><td><code>componentRef</code></td> <td>对话框中组件的实例引用</td> <td>Object</td></tr> <tr><td><code>close</code></td> <td>关闭对话框的函数</td> <td>Function</td></tr></tbody></table> <h4 id="返回值"><a href="#返回值" class="header-anchor">#</a> 返回值</h4> <p>返回一个 <code>DialogInstance</code> 实例，包含以下方法：</p> <table><thead><tr><th>方法</th> <th>说明</th> <th>参数</th></tr></thead> <tbody><tr><td><code>close()</code></td> <td>关闭对话框</td> <td>-</td></tr></tbody></table> <h2 id="关闭对话框"><a href="#关闭对话框" class="header-anchor">#</a> 关闭对话框</h2> <h3 id="_1-通过组件内部触发"><a href="#_1-通过组件内部触发" class="header-anchor">#</a> 1. 通过组件内部触发</h3> <p>在对话框内的组件中，通过 <code>$emit('close', type)</code> 触发关闭：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 在组件内部</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'confirm'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传递关闭类型</span>
</code></pre></div><h3 id="_2-通过-close-回调函数"><a href="#_2-通过-close-回调函数" class="header-anchor">#</a> 2. 通过 close 回调函数</h3> <p>在 <code>close</code> 回调函数中，调用 <code>close()</code> 方法关闭：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">close</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> componentRef<span class="token punctuation">,</span> done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 处理逻辑</span>
  <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用 done 方法关闭对话框</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-通过对话框实例"><a href="#_3-通过对话框实例" class="header-anchor">#</a> 3. 通过对话框实例</h3> <p>保存对话框实例，后续可以通过实例调用 <code>close()</code> 方法：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 打开对话框并保存实例</span>
<span class="token keyword">const</span> dialogInstance <span class="token operator">=</span> <span class="token function">useDialog</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 后续需要关闭时</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  dialogInstance<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h2> <ol><li><p><strong>组件引用</strong>：通过 <code>close</code> 回调函数的 <code>componentRef</code> 参数可以获取对话框中组件的实例，用于访问组件的方法和数据</p></li> <li><p><strong>对话框配置</strong>：<code>dialogProps</code> 支持 Element UI <code>el-dialog</code> 组件的所有属性，详细配置请参考 <a href="https://element.eleme.io/#/zh-CN/component/dialog" target="_blank" rel="noopener noreferrer">Element UI 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><strong>拖拽功能</strong>：对话框默认支持拖拽，通过 <code>v-dragDialog</code> 指令实现</p></li> <li><p><strong>性能优化</strong>：对话框关闭后会自动销毁组件实例并从 DOM 中移除，无需手动清理</p></li></ol> <h2 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h2> <h3 id="q-如何在对话框中使用异步操作"><a href="#q-如何在对话框中使用异步操作" class="header-anchor">#</a> Q: 如何在对话框中使用异步操作？</h3> <p><strong>A:</strong> 可以在组件内部使用异步操作，完成后通过 <code>$emit('close', type)</code> 触发关闭：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 在组件内部</span>
<span class="token keyword">async</span> <span class="token function">handleSubmit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/submit'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="q-如何自定义对话框的样式"><a href="#q-如何自定义对话框的样式" class="header-anchor">#</a> Q: 如何自定义对话框的样式？</h3> <p><strong>A:</strong> 可以通过 <code>dialogProps</code> 传递 <code>customClass</code> 属性，然后在 CSS 中定义样式：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> dialogInstance <span class="token operator">=</span> <span class="token function">useDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">dialogProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'自定义样式对话框'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">customClass</span><span class="token operator">:</span> <span class="token string">'my-dialog'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 自定义对话框样式 */</span>
<span class="token selector">.my-dialog</span> <span class="token punctuation">{</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 4px 20px <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.15<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/ld-v2-kit/LdTable/" class="prev">
        LdTable 表格
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ld-v2-kit/assets/js/app.a42031f1.js" defer></script><script src="/ld-v2-kit/assets/js/2.1df3c5ad.js" defer></script><script src="/ld-v2-kit/assets/js/1.bcc547e7.js" defer></script><script src="/ld-v2-kit/assets/js/24.b50bc5a8.js" defer></script><script src="/ld-v2-kit/assets/js/4.77e47e98.js" defer></script>
  </body>
</html>
